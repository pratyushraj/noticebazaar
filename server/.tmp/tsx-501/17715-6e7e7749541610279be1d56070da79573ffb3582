{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});function calculateNegotiationPowerScore(analysis){let score=50;const paymentText=(analysis.keyTerms?.payment||analysis.keyTerms?.paymentSchedule||\"\").toLowerCase();if(paymentText.includes(\"7 days\")||paymentText.includes(\"10 days\")||paymentText.includes(\"14 days\")){score+=10}else if(paymentText.includes(\"30 days\")||paymentText.includes(\"net 30\")){score+=5}else if(paymentText.includes(\"45\")||paymentText.includes(\"60\")||paymentText.includes(\"90\")){score-=15}const hasCreatorIP=analysis.verified?.some(v=>v.category?.toLowerCase().includes(\"ip\")||v.category?.toLowerCase().includes(\"intellectual property\")||v.title?.toLowerCase().includes(\"creator owns\")||v.title?.toLowerCase().includes(\"creator retains\"));const hasBrandIPIssue=analysis.issues?.some(i=>i.category?.toLowerCase().includes(\"ip\")||i.category?.toLowerCase().includes(\"intellectual property\")||i.title?.toLowerCase().includes(\"brand owns\")||i.title?.toLowerCase().includes(\"brand retains\"));if(hasCreatorIP){score+=15}if(hasBrandIPIssue){score-=15}const hasCreatorTermination=analysis.verified?.some(v=>v.category?.toLowerCase().includes(\"termination\")||v.title?.toLowerCase().includes(\"termination\"));const hasTerminationIssue=analysis.issues?.some(i=>i.category?.toLowerCase().includes(\"termination\")||i.title?.toLowerCase().includes(\"termination\")&&i.severity===\"high\");if(hasCreatorTermination){score+=10}if(hasTerminationIssue){score-=10}const hasExclusivityIssue=analysis.issues?.some(i=>i.category?.toLowerCase().includes(\"exclusivity\")||i.title?.toLowerCase().includes(\"exclusive\")||i.title?.toLowerCase().includes(\"non-compete\"));if(hasExclusivityIssue){score-=15}const hasDeliverableIssue=analysis.issues?.some(i=>i.category?.toLowerCase().includes(\"deliverable\")||i.title?.toLowerCase().includes(\"deliverable\"));if(hasDeliverableIssue){score-=10}const hasLiabilityIssue=analysis.issues?.some(i=>i.category?.toLowerCase().includes(\"liability\")||i.title?.toLowerCase().includes(\"liability\")||i.title?.toLowerCase().includes(\"indemnification\"));if(hasLiabilityIssue){score-=10}const durationText=(analysis.keyTerms?.duration||\"\").toLowerCase();if(durationText.includes(\"month\")||durationText.includes(\"30 days\")||durationText.includes(\"60 days\")){score+=5}else if(durationText.includes(\"year\")||durationText.includes(\"12 month\")){score-=5}return Math.max(0,Math.min(100,score))}__name(calculateNegotiationPowerScore,\"calculateNegotiationPowerScore\");function getNegotiationPowerLabel(score){if(score>65){return{label:\"Creator Dominant Deal\",description:\"You control this deal\",emoji:\"\\u{1F7E2}\",color:\"text-green-400\"}}else if(score>=40){return{label:\"Balanced Negotiation\",description:\"Fairly balanced\",emoji:\"\\u{1F7E1}\",color:\"text-yellow-400\"}}else{return{label:\"Brand Dominates\",description:\"Brand has the upper hand\",emoji:\"\\u{1F534}\",color:\"text-red-400\"}}}__name(getNegotiationPowerLabel,\"getNegotiationPowerLabel\");export{calculateNegotiationPowerScore,getNegotiationPowerLabel};\n","warnings":[],"map":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["/Users/pratyushraj/Documents/noticebazaar/server/src/services/negotiationPowerScore.ts"],"sourcesContent":[null]}}