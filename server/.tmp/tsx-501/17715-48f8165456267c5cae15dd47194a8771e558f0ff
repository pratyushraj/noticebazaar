{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});const store={};const WINDOW_MS=60*1e3;const MAX_REQUESTS=100;const rateLimitMiddleware=__name((req,res,next)=>{const userId=req.user?.id||req.ip||\"unknown\";const now=Date.now();const key=`rate_limit:${userId}`;if(!store[key]||now>store[key].resetAt){store[key]={count:1,resetAt:now+WINDOW_MS};return next()}if(store[key].count>=MAX_REQUESTS){return res.status(429).json({error:\"Rate limit exceeded\",retryAfter:Math.ceil((store[key].resetAt-now)/1e3)})}store[key].count++;next()},\"rateLimitMiddleware\");export{rateLimitMiddleware};\n","warnings":[],"map":{"version":3,"mappings":"kHAWA,MAAM,MAAwB,CAAC,EAC/B,MAAM,UAAY,GAAK,IACvB,MAAM,aAAe,IAEd,MAAM,oBAAsB,QACjC,IACA,IACA,OACG,CACH,MAAM,OAAU,IAAY,MAAM,IAAO,IAAY,IAAM,UAC3D,MAAM,IAAM,KAAK,IAAI,EACrB,MAAM,IAAM,cAAc,MAAM,GAEhC,GAAI,CAAC,MAAM,GAAG,GAAK,IAAM,MAAM,GAAG,EAAE,QAAS,CAC3C,MAAM,GAAG,EAAI,CAAE,MAAO,EAAG,QAAS,IAAM,SAAU,EAClD,OAAO,KAAK,CACd,CAEA,GAAI,MAAM,GAAG,EAAE,OAAS,aAAc,CACpC,OAAO,IAAI,OAAO,GAAG,EAAE,KAAK,CAC1B,MAAO,sBACP,WAAY,KAAK,MAAM,MAAM,GAAG,EAAE,QAAU,KAAO,GAAI,CACzD,CAAC,CACH,CAEA,MAAM,GAAG,EAAE,QACX,KAAK,CACP,EAvBmC","names":[],"ignoreList":[],"sources":["/Users/pratyushraj/Documents/noticebazaar/server/src/middleware/rateLimit.ts"],"sourcesContent":[null]}}