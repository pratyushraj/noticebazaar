{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{Router}from\"express\";import{supabase,supabaseInitialized}from\"../lib/supabase.js\";import crypto from\"crypto\";import{generateContractFromScratch}from\"../services/contractGenerator.js\";const router=Router();function hashIpAddress(ip){if(!ip||ip===\"unknown\"){return{hash:null,partial:null}}const partialMatch=ip.match(/^(\\d+\\.\\d+\\.\\d+)\\.\\d+$/);const partial=partialMatch?`${partialMatch[1]}.xxx`:null;const hash=crypto.createHash(\"sha256\").update(ip).digest(\"hex\").substring(0,16);return{hash,partial}}__name(hashIpAddress,\"hashIpAddress\");function getClientIp(req){return req.ip||req.headers[\"x-forwarded-for\"]?.toString().split(\",\")[0]?.trim()||req.headers[\"x-real-ip\"]?.toString()||req.socket.remoteAddress||\"unknown\"}__name(getClientIp,\"getClientIp\");async function shouldRequireBrandConfirmation(dealId){try{const{data:deal,error:dealError}=await supabase.from(\"brand_deals\").select(`\n        id,\n        status,\n        brand_response_status,\n        analysis_report_id,\n        creator_requested_clarifications,\n        deal_schema\n      `).eq(\"id\",dealId).single();if(dealError||!deal){console.error(\"[shouldRequireBrandConfirmation] Error fetching deal:\",dealError);return true}if(deal.creator_requested_clarifications===true){console.log(\"[shouldRequireBrandConfirmation] Creator requested clarifications\");return true}if(deal.analysis_report_id){const{data:issues,error:issuesError}=await supabase.from(\"protection_issues\").select(\"id, severity, category\").eq(\"report_id\",deal.analysis_report_id).in(\"severity\",[\"high\",\"medium\"]).limit(1);if(!issuesError&&issues&&issues.length>0){console.log(\"[shouldRequireBrandConfirmation] AI requested clarifications found\");return true}const{data:report,error:reportError}=await supabase.from(\"protection_reports\").select(\"analysis_json\").eq(\"id\",deal.analysis_report_id).single();if(!reportError&&report?.analysis_json){const analysisData=report.analysis_json;const keyTerms=analysisData?.keyTerms||{};const hasMissingCriticalTerms=!keyTerms?.usageRights||keyTerms.usageRights===\"Not specified\"||(!keyTerms?.exclusivity||keyTerms.exclusivity===\"Not specified\")||(!keyTerms?.paymentSchedule||keyTerms.paymentSchedule===\"Not specified\")||(!keyTerms?.termination||keyTerms.termination===\"Not specified\");if(hasMissingCriticalTerms){console.log(\"[shouldRequireBrandConfirmation] Missing critical terms detected\");return true}const issues2=Array.isArray(analysisData?.issues)?analysisData.issues:[];const hasImportantIssues=issues2.some(issue=>issue.severity===\"high\"||issue.severity===\"medium\");if(hasImportantIssues){console.log(\"[shouldRequireBrandConfirmation] Important issues detected\");return true}}}if(deal.deal_schema){const dealSchema=typeof deal.deal_schema===\"string\"?JSON.parse(deal.deal_schema):deal.deal_schema;const paymentMethod=dealSchema.payment_method||dealSchema.paymentMethod;const paymentTerms=dealSchema.payment_terms||dealSchema.paymentTerms;if(!paymentMethod||!paymentTerms||paymentTerms===\"Not specified\"||paymentTerms===\"Unclear\"){console.log(\"[shouldRequireBrandConfirmation] Payment risk detected\");return true}}if(deal.status===\"Negotiating\"||deal.brand_response_status===\"negotiating\"){console.log(\"[shouldRequireBrandConfirmation] Deal in negotiation mode\");return true}console.log(\"[shouldRequireBrandConfirmation] No confirmation required - happy path\");return false}catch(error){console.error(\"[shouldRequireBrandConfirmation] Error:\",error);return true}}__name(shouldRequireBrandConfirmation,\"shouldRequireBrandConfirmation\");async function logAuditEntry(replyTokenId,dealId,actionType,req,metadata={}){try{if(actionType===\"viewed\"){const{data:lastViewed}=await supabase.from(\"brand_reply_audit_log\").select(\"action_timestamp\").eq(\"reply_token_id\",replyTokenId).eq(\"action_type\",\"viewed\").order(\"action_timestamp\",{ascending:false}).limit(1).maybeSingle();if(lastViewed){const lastViewedTime=new Date(lastViewed.action_timestamp);const now=new Date;const hoursSinceLastView=(now.getTime()-lastViewedTime.getTime())/(1e3*60*60);if(hoursSinceLastView<1){return}}}let decisionVersion=null;if(actionType!==\"viewed\"){const{data:lastDecision}=await supabase.from(\"brand_reply_audit_log\").select(\"decision_version\").eq(\"deal_id\",dealId).not(\"decision_version\",\"is\",null).order(\"decision_version\",{ascending:false}).limit(1).maybeSingle();decisionVersion=lastDecision?.decision_version?lastDecision.decision_version+1:1}const userAgent=req.headers[\"user-agent\"]||null;const ip=getClientIp(req);const{hash,partial}=hashIpAddress(ip);const{error}=await supabase.from(\"brand_reply_audit_log\").insert({reply_token_id:replyTokenId,deal_id:dealId,action_type:actionType,action_timestamp:new Date().toISOString(),action_source:\"brand_reply_link\",user_agent:userAgent,ip_address_hash:hash,ip_address_partial:partial,optional_comment:metadata.optionalComment||null,response_status:metadata.responseStatus||null,brand_team_name:metadata.brandTeamName||null,decision_version:decisionVersion});if(error){console.error(\"[BrandResponse] Audit log error:\",error)}}catch(error){console.error(\"[BrandResponse] Audit log exception:\",error)}}__name(logAuditEntry,\"logAuditEntry\");router.get(\"/:token\",async(req,res)=>{try{const{token}=req.params;if(!token||typeof token!==\"string\"||token.trim()===\"\"){return res.status(400).json({success:false,error:\"Invalid token\"})}const uuidRegex=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;if(!uuidRegex.test(token.trim())){return res.status(400).json({success:false,error:\"Invalid token format\"})}if(!supabaseInitialized){console.error(\"[BrandResponse] GET Supabase not initialized\");return res.status(500).json({success:false,error:\"Server configuration error\"})}const{data:tokenData,error:tokenError}=await supabase.from(\"brand_reply_tokens\").select(\"id, deal_id, is_active, expires_at, revoked_at\").eq(\"id\",token.trim()).maybeSingle();if(tokenError){console.error(\"[BrandResponse] GET Token fetch error:\",tokenError);return res.status(500).json({success:false,error:\"An error occurred. Please try again later.\"})}if(!tokenData){return res.status(404).json({success:false,error:\"This link is no longer valid. Please contact the creator.\"})}if(!tokenData.is_active||tokenData.revoked_at){return res.status(403).json({success:false,error:\"This link is no longer valid. Please contact the creator.\"})}if(tokenData.expires_at){const now=new Date;const expiresAt=new Date(tokenData.expires_at);if(now>expiresAt){return res.status(403).json({success:false,error:\"This request has expired. Please ask the creator to resend.\"})}}await logAuditEntry(tokenData.id,tokenData.deal_id,\"viewed\",req);let deal=null;let dealError=null;try{const{data,error}=await supabase.from(\"brand_deals\").select(\"id, brand_name, brand_response_status, brand_response_message, brand_response_at, deal_amount, deliverables, analysis_report_id\").eq(\"id\",tokenData.deal_id).maybeSingle();deal=data;dealError=error;const isColumnError=error&&(error.code===\"42703\"||typeof error.message===\"string\"&&(error.message.includes(\"column\")||error.message.includes(\"does not exist\")));if(isColumnError){console.log(\"[BrandResponse] Column error detected, trying minimal select:\",error.message);const{data:fallbackDeal,error:fallbackError}=await supabase.from(\"brand_deals\").select(\"id, brand_name, brand_response_status, brand_response_message, brand_response_at, deal_amount, deliverables\").eq(\"id\",tokenData.deal_id).maybeSingle();if(!fallbackError&&fallbackDeal){deal=fallbackDeal;dealError=null;console.log(\"[BrandResponse] Successfully fetched deal with minimal select, response_status:\",fallbackDeal.brand_response_status)}else{console.error(\"[BrandResponse] Fallback query also failed:\",fallbackError);dealError=fallbackError}}else if(!error&&deal){console.log(\"[BrandResponse] Successfully fetched deal, response_status:\",deal.brand_response_status)}}catch(err){console.error(\"[BrandResponse] Exception fetching deal:\",err);dealError=err}if(dealError||!deal){console.error(\"[BrandResponse] GET Deal fetch error (falling back to minimal deal):\",dealError);if(tokenData?.deal_id){const{data:minimalDeal}=await supabase.from(\"brand_deals\").select(\"brand_name, brand_response_status, brand_response_message, brand_response_at, deal_amount, deliverables\").eq(\"id\",tokenData.deal_id).maybeSingle();if(minimalDeal){return res.json({success:true,deal:{brand_name:minimalDeal.brand_name||\"Collaboration\",response_status:minimalDeal.brand_response_status||\"pending\",response_message:minimalDeal.brand_response_message||null,response_at:minimalDeal.brand_response_at||null,deal_amount:minimalDeal.deal_amount||null,deliverables:minimalDeal.deliverables||null},requested_changes:[],analysis_data:null})}}return res.json({success:true,deal:{brand_name:\"Collaboration\",response_status:\"pending\",response_message:null,response_at:null,deal_amount:null,deliverables:null},requested_changes:[],analysis_data:null})}let requestedChanges=[];let analysisData=null;if(deal.analysis_report_id){const{data:issues,error:issuesError}=await supabase.from(\"protection_issues\").select(\"id, title, severity, category, description\").eq(\"report_id\",deal.analysis_report_id).in(\"severity\",[\"high\",\"medium\",\"warning\"]).order(\"severity\",{ascending:false}).order(\"created_at\",{ascending:true});if(!issuesError&&issues){requestedChanges=issues.map(issue=>({title:issue.title,severity:issue.severity,category:issue.category,description:issue.description}))}const{data:report,error:reportError}=await supabase.from(\"protection_reports\").select(\"analysis_json\").eq(\"id\",deal.analysis_report_id).maybeSingle();if(!reportError&&report?.analysis_json){analysisData=report.analysis_json}}const requiresConfirmation=await shouldRequireBrandConfirmation(tokenData.deal_id);return res.json({success:true,deal:{brand_name:deal.brand_name,response_status:deal.brand_response_status||\"pending\",response_message:deal.brand_response_message,response_at:deal.brand_response_at,deal_amount:deal.deal_amount||null,deliverables:deal.deliverables||null},requested_changes:requestedChanges,analysis_data:analysisData,requires_confirmation:requiresConfirmation})}catch(error){console.error(\"[BrandResponse] GET Error:\",error);return res.status(500).json({success:false,error:\"An error occurred. Please try again later.\"})}});router.post(\"/:token\",async(req,res)=>{try{const{token}=req.params;const{status,message,brand_team_name}=req.body;const uuidRegex=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;if(!token||!uuidRegex.test(token.trim())){return res.status(400).json({success:false,error:\"This link is no longer valid. Please contact the creator.\"})}if(!status){return res.status(400).json({success:false,error:\"Status is required\"})}const validStatuses=[\"accepted\",\"accepted_verified\",\"negotiating\",\"rejected\"];if(!validStatuses.includes(status)){return res.status(400).json({success:false,error:`Status must be one of: ${validStatuses.join(\", \")}`})}if(!supabaseInitialized){return res.status(500).json({success:false,error:\"An error occurred. Please try again later.\"})}const{data:tokenData,error:tokenError}=await supabase.from(\"brand_reply_tokens\").select(\"id, deal_id, is_active, expires_at, revoked_at\").eq(\"id\",token.trim()).maybeSingle();if(tokenError||!tokenData){return res.status(404).json({success:false,error:\"This link is no longer valid. Please contact the creator.\"})}if(!tokenData.is_active||tokenData.revoked_at){return res.status(403).json({success:false,error:\"This link is no longer valid. Please contact the creator.\"})}if(tokenData.expires_at){const now=new Date;const expiresAt=new Date(tokenData.expires_at);if(now>expiresAt){return res.status(403).json({success:false,error:\"This request has expired. Please ask the creator to resend.\"})}}const clientIp=getClientIp(req);const{data:deal,error:dealError}=await supabase.from(\"brand_deals\").select(\"id, brand_name, status, brand_response_status, creator_id, deal_amount, deliverables, brand_email, deal_schema, analysis_report_id\").eq(\"id\",tokenData.deal_id).single();if(dealError||!deal){console.error(\"[BrandResponse] POST Error fetching deal:\",dealError);return res.status(404).json({success:false,error:\"This link is no longer valid. Please contact the creator.\"})}const requiresConfirmation=await shouldRequireBrandConfirmation(tokenData.deal_id);const isUpdate=deal.brand_response_status&&deal.brand_response_status!==\"pending\";const actionType=isUpdate?\"updated_response\":status===\"accepted\"||status===\"accepted_verified\"?\"accepted\":status===\"negotiating\"?\"negotiation_requested\":\"rejected\";const updateData={brand_response_status:status,brand_response_at:new Date().toISOString(),brand_response_ip:clientIp,updated_at:new Date().toISOString()};if(message&&message.trim()){updateData.brand_response_message=message.trim()}if(brand_team_name&&brand_team_name.trim()){updateData.brand_team_name=brand_team_name.trim()}let newDealStatus=deal.status;if(status===\"accepted\"||status===\"accepted_verified\"){newDealStatus=\"Approved\"}else if(status===\"negotiating\"){newDealStatus=\"Negotiating\"}else if(status===\"rejected\"){newDealStatus=\"Rejected\"}if(newDealStatus!==deal.status){updateData.status=newDealStatus}const{error:updateError}=await supabase.from(\"brand_deals\").update(updateData).eq(\"id\",tokenData.deal_id);if(updateError){console.error(\"[BrandResponse] Update error:\",updateError);return res.status(500).json({success:false,error:\"An error occurred. Please try again later.\"})}await logAuditEntry(tokenData.id,tokenData.deal_id,actionType,req,{responseStatus:status,brandTeamName:brand_team_name?.trim()||null,optionalComment:message?.trim()||null});let contractGenerated=false;if(!requiresConfirmation&&(status===\"accepted\"||status===\"accepted_verified\")){try{console.log(\"[BrandResponse] Auto-generating contract (happy path)...\");const{data:creator,error:creatorError}=await supabase.from(\"profiles\").select(\"id, first_name, last_name, email, address\").eq(\"id\",deal.creator_id).single();if(!creatorError&&creator){let analysisData=null;if(deal.analysis_report_id){const{data:report}=await supabase.from(\"protection_reports\").select(\"analysis_json\").eq(\"id\",deal.analysis_report_id).single();analysisData=report?.analysis_json}let deliverablesList=[];if(deal.deliverables){if(typeof deal.deliverables===\"string\"){try{const parsed=JSON.parse(deal.deliverables);deliverablesList=Array.isArray(parsed)?parsed:[deal.deliverables]}catch{deliverablesList=[deal.deliverables]}}else if(Array.isArray(deal.deliverables)){deliverablesList=deal.deliverables}}const dealSchema=deal.deal_schema?typeof deal.deal_schema===\"string\"?JSON.parse(deal.deal_schema):deal.deal_schema:{};const creatorName=creator.first_name&&creator.last_name?`${creator.first_name} ${creator.last_name}`:creator.first_name||creator.email?.split(\"@\")[0]||\"Creator\";const contractRequest={brandName:deal.brand_name||\"Brand\",creatorName,dealAmount:deal.deal_amount||0,deliverables:deliverablesList.length>0?deliverablesList:[\"As per agreement\"],brandEmail:deal.brand_email||null,brandAddress:dealSchema.brand_address||null,creatorEmail:creator.email||null,creatorAddress:creator.address||null,dealSchema,usageType:dealSchema.usage_type||null,usagePlatforms:dealSchema.usage_platforms||[dealSchema.platform||\"Instagram\"],usageDuration:dealSchema.usage_duration||null,paidAdsAllowed:dealSchema.paid_ads_allowed||null,whitelistingAllowed:dealSchema.whitelisting_allowed||null,exclusivityEnabled:dealSchema.exclusivity_enabled||false,exclusivityCategory:dealSchema.exclusivity_category||null,exclusivityDuration:dealSchema.exclusivity_duration||null,terminationNoticeDays:dealSchema.termination_notice_days||null,jurisdictionCity:dealSchema.jurisdiction_city||null,additionalTerms:dealSchema.additional_terms||null};const contractResult=await generateContractFromScratch(contractRequest);const{data:uploadData,error:uploadError}=await supabase.storage.from(\"creator-assets\").upload(`contracts/${deal.id}/${contractResult.fileName}`,contractResult.contractDocx,{contentType:\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",upsert:true});if(!uploadError&&uploadData){const{data:urlData}=await supabase.storage.from(\"creator-assets\").getPublicUrl(uploadData.path);await supabase.from(\"brand_deals\").update({contract_file_url:urlData.publicUrl,updated_at:new Date().toISOString()}).eq(\"id\",tokenData.deal_id);contractGenerated=true;console.log(\"[BrandResponse] Contract auto-generated successfully\");try{await supabase.from(\"analytics_events\").insert({event_type:\"contract_auto_generated\",deal_id:tokenData.deal_id,creator_id:deal.creator_id,metadata:{status,requires_confirmation:false},created_at:new Date().toISOString()})}catch(analyticsError){console.error(\"[BrandResponse] Analytics tracking failed (non-fatal):\",analyticsError)}if(deal.brand_email){try{const{sendBrandFormSubmissionEmail}=await import(\"../services/brandFormSubmissionEmailService.js\").then(s=>{const e=\"default\";return s[e]&&typeof s[e]==\"object\"&&\"__esModule\"in s[e]?s[e]:s});await sendBrandFormSubmissionEmail(deal.brand_email,deal.brand_name||\"Brand\",{brandName:deal.brand_name||\"Brand\",dealAmount:deal.deal_amount||0,deliverables:deliverablesList},tokenData.deal_id)}catch(emailError){console.error(\"[BrandResponse] Email sending failed (non-fatal):\",emailError)}}}else{console.error(\"[BrandResponse] Contract upload failed:\",uploadError)}}else{console.error(\"[BrandResponse] Creator not found for contract generation\")}}catch(contractError){console.error(\"[BrandResponse] Contract auto-generation failed (non-fatal):\",contractError)}}else if(requiresConfirmation){try{await supabase.from(\"analytics_events\").insert({event_type:\"contract_alignment_required\",deal_id:tokenData.deal_id,creator_id:deal.creator_id,metadata:{status,requires_confirmation:true},created_at:new Date().toISOString()})}catch(analyticsError){console.error(\"[BrandResponse] Analytics tracking failed (non-fatal):\",analyticsError)}await supabase.from(\"brand_deals\").update({contract_status:\"AwaitingClarification\",updated_at:new Date().toISOString()}).eq(\"id\",tokenData.deal_id)}if(status===\"accepted_verified\"){try{const{generateInvoice}=await import(\"../services/invoiceService.js\").then(s=>{const e=\"default\";return s[e]&&typeof s[e]==\"object\"&&\"__esModule\"in s[e]?s[e]:s});console.log(\"[BrandResponse] Generating invoice for OTP-verified deal...\");await generateInvoice(tokenData.deal_id);console.log(\"[BrandResponse] Invoice generated successfully\")}catch(invoiceError){console.error(\"[BrandResponse] Invoice generation failed (non-fatal):\",invoiceError.message)}}return res.json({success:true,message:\"Brand response saved successfully\",status,contract_generated:contractGenerated,requires_confirmation:requiresConfirmation})}catch(error){console.error(\"[BrandResponse] Error:\",error);return res.status(500).json({success:false,error:error.message||\"Internal server error\"})}});router.get(\"/debug/:token\",async(req,res)=>{const{token}=req.params;if(process.env.NODE_ENV===\"production\"){return res.status(403).json({error:\"Debug endpoint disabled in production\"})}try{console.log(\"[BrandResponse] DEBUG Checking token:\",token);const{data:tokenData,error:tokenError}=await supabase.from(\"brand_reply_tokens\").select(\"id, deal_id, is_active, expires_at, revoked_at, created_at\").eq(\"id\",token.trim()).maybeSingle();const{data:deal,error:dealError}=tokenData?await supabase.from(\"brand_deals\").select(\"id, brand_name, status\").eq(\"id\",tokenData.deal_id).maybeSingle():{data:null,error:null};return res.json({token:token.trim(),tokenData:tokenData||null,tokenError:tokenError?{code:tokenError.code,message:tokenError.message}:null,deal:deal||null,dealError:dealError?{code:dealError.code,message:dealError.message}:null})}catch(error){return res.status(500).json({error:\"Debug check failed\",message:error.message})}});var brandResponse_default=router;export{brandResponse_default as default};\n","warnings":[],"map":{"version":3,"mappings":"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","names":["issues"],"ignoreList":[],"sources":["/Users/pratyushraj/Documents/noticebazaar/server/src/routes/brandResponse.ts"],"sourcesContent":[null]}}