{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{supabase}from\"../lib/supabase.js\";import{generateSafeClause}from\"./clauseGenerator.js\";import path from\"path\";import{fileURLToPath}from\"url\";const __filename=fileURLToPath(import.meta.url);const __dirname=path.dirname(__filename);function getSupabaseConfig(){let supabaseUrl=process.env.SUPABASE_URL||process.env.VITE_SUPABASE_URL||\"\";if(supabaseUrl&&supabaseUrl.startsWith(\"${\")&&supabaseUrl.endsWith(\"}\")){const varName=supabaseUrl.slice(2,-1);supabaseUrl=process.env[varName]||process.env.VITE_SUPABASE_URL||\"\"}if(!supabaseUrl||supabaseUrl.trim()===\"\"||supabaseUrl.includes(\"${\")){supabaseUrl=process.env.VITE_SUPABASE_URL||\"\"}let serviceRoleKey=process.env.SUPABASE_SERVICE_ROLE_KEY||process.env.VITE_SUPABASE_SERVICE_ROLE_KEY||\"\";if(serviceRoleKey&&serviceRoleKey.startsWith(\"${\")&&serviceRoleKey.endsWith(\"}\")){const varName=serviceRoleKey.slice(2,-1);serviceRoleKey=process.env[varName]||process.env.VITE_SUPABASE_SERVICE_ROLE_KEY||\"\"}if(!serviceRoleKey||serviceRoleKey.trim()===\"\"||serviceRoleKey.includes(\"${\")){serviceRoleKey=process.env.VITE_SUPABASE_SERVICE_ROLE_KEY||process.env.SUPABASE_SERVICE_KEY||process.env.SUPABASE_KEY||\"\"}return{supabaseUrl,serviceRoleKey}}__name(getSupabaseConfig,\"getSupabaseConfig\");async function generateSafeContract(request){const{reportId,originalFilePath,userId}=request;let filePath=originalFilePath;if(originalFilePath.startsWith(\"http\")){const urlMatch=originalFilePath.match(/\\/storage\\/v1\\/object\\/public\\/[^\\/]+\\/(.+)$/);if(urlMatch){filePath=urlMatch[1]}else{const pathMatch=originalFilePath.match(/creator-assets\\/(.+)$/);if(pathMatch){filePath=pathMatch[1]}}}else if(originalFilePath.includes(\"/\")){const parts=originalFilePath.split(\"/\");if(parts.length>1&&parts[0]===\"creator-assets\"){filePath=parts.slice(1).join(\"/\")}else if(parts.length>1){filePath=parts.slice(1).join(\"/\")}}console.log(\"[SafeContractGenerator] Downloading contract from path:\",filePath);const{data:contractData,error:downloadError}=await supabase.storage.from(\"creator-assets\").download(filePath);if(downloadError||!contractData){console.error(\"[SafeContractGenerator] Download error:\",downloadError);console.error(\"[SafeContractGenerator] Original path:\",originalFilePath);console.error(\"[SafeContractGenerator] Processed path:\",filePath);throw new Error(`Failed to download original contract: ${JSON.stringify(downloadError)||\"File not found\"}`)}const contractBuffer=Buffer.from(await contractData.arrayBuffer());const contractText=await extractTextFromPdf(contractBuffer);let issues=[];let existingSafeClauses=[];if(reportId&&reportId!==\"temp\"){const{data:issuesData,error:issuesError}=await supabase.from(\"protection_issues\").select(\"*\").eq(\"report_id\",reportId);if(issuesError){console.warn(\"[SafeContractGenerator] Failed to fetch issues, continuing without them:\",issuesError.message)}else{issues=issuesData||[]}const{data:safeClausesData}=await supabase.from(\"safe_clauses\").select(\"*\").eq(\"report_id\",reportId);existingSafeClauses=safeClausesData||[]}else{console.warn(\"[SafeContractGenerator] No reportId provided, generating basic safe contract without issue-specific fixes\")}const safeClausesMap=new Map;if(issues&&issues.length>0){for(const issue of issues){const existingClause=existingSafeClauses?.find(sc=>sc.issue_id===issue.id);if(existingClause?.safe_clause){safeClausesMap.set(issue.clause_reference||issue.title,existingClause.safe_clause)}else{try{const generated=await generateSafeClause({originalClause:issue.clause_reference||\"\",issueContext:issue.description,issueCategory:issue.category});if(reportId&&reportId!==\"temp\"){const insertData={report_id:reportId,issue_id:issue.id,original_clause:issue.clause_reference||\"\",safe_clause:generated.safeClause,explanation:generated.explanation||\"\"};await supabase.from(\"safe_clauses\").insert(insertData)}safeClausesMap.set(issue.clause_reference||issue.title,generated.safeClause)}catch(error){console.warn(`[SafeContractGenerator] Failed to generate clause for issue ${issue.id}:`,error)}}}}else{console.log(\"[SafeContractGenerator] No issues found, generating basic safe contract without clause replacements\")}let safeContractText=contractText;for(const[originalClause,safeClause]of safeClausesMap.entries()){if(originalClause&&safeClause){safeContractText=safeContractText.replace(new RegExp(escapeRegex(originalClause),\"gi\"),safeClause)}}const contractHtml=generateContractHtml(safeContractText,{dealId:void 0,brandName:\"Brand\",creatorName:\"Creator\",generatedAt:new Date().toISOString()});console.log(\"[SafeContractGenerator] HTML contract generated, length:\",contractHtml.length);console.log(\"[SafeContractGenerator] Returning safe contract (HTML only - DOCX available on demand)\");console.log(\"[SafeContractGenerator] Has HTML:\",!!contractHtml);return{contractHtml}}__name(generateSafeContract,\"generateSafeContract\");async function extractTextFromPdf(buffer){try{const pdfjsModule=await import(\"pdfjs-dist\").then(s=>{const e=\"default\";return s[e]&&typeof s[e]==\"object\"&&\"__esModule\"in s[e]?s[e]:s});const pdfjsLib=pdfjsModule.default||pdfjsModule;let getDocument=pdfjsLib.getDocument||pdfjsModule.getDocument;if(!getDocument||typeof getDocument!==\"function\"){throw new Error(\"PDF.js getDocument function not found\")}if(pdfjsLib.GlobalWorkerOptions){if(typeof process!==\"undefined\"&&process.versions&&process.versions.node){pdfjsLib.GlobalWorkerOptions.workerSrc=\"\"}}const uint8Array=new Uint8Array(buffer);const loadingTask=getDocument({data:uint8Array,verbosity:0,stopAtErrors:false});const pdf=await loadingTask.promise;let fullText=\"\";for(let i=1;i<=pdf.numPages;i++){const page=await pdf.getPage(i);const textContent=await page.getTextContent();const pageText=textContent.items.map(item=>item.str||\"\").join(\" \");fullText+=pageText+\"\\n\"}return fullText}catch(error){console.error(\"[SafeContractGenerator] PDF extraction error:\",error.message);throw new Error(`Failed to extract text from PDF: ${error.message||\"PDF.js error\"}`)}}__name(extractTextFromPdf,\"extractTextFromPdf\");function convertTextToStructuredHtml(text){let html=\"\";const lines=text.split(\"\\n\");let inList=false;for(let i=0;i<lines.length;i++){const line=lines[i].trim();const nextLine=i<lines.length-1?lines[i+1].trim():\"\";if(!line){if(inList){html+=\"</ul>\\n\";inList=false}continue}if(line.includes(\"CREATOR\\u2013BRAND COLLABORATION AGREEMENT\")){if(inList){html+=\"</ul>\\n\";inList=false}html+=`<h1>${escapeHtml(line)}</h1>\n`;continue}if(/^\\d+\\.\\s+[A-Z]/.test(line)){if(inList){html+=\"</ul>\\n\";inList=false}html+=`<div class=\"section\"><h2>${escapeHtml(line)}</h2>\n`;continue}if(line.length<60&&/^[A-Z][a-zA-Z\\s]+$/.test(line)&&!line.includes(\":\")&&!line.includes(\"\\u2022\")){if(inList){html+=\"</ul>\\n\";inList=false}html+=`<h3>${escapeHtml(line)}</h3>\n`;continue}if(line.startsWith(\"\\u2022\")||line.startsWith(\"-\")){if(!inList){html+=\"<ul>\\n\";inList=true}const listItem=line.substring(1).trim();html+=`<li>${escapeHtml(listItem)}</li>\n`;continue}if(inList){html+=\"</ul>\\n\";inList=false}html+=`<p>${escapeHtml(line)}</p>\n`}if(inList){html+=\"</ul>\\n\"}return html}__name(convertTextToStructuredHtml,\"convertTextToStructuredHtml\");function escapeHtml(text){return text.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\")}__name(escapeHtml,\"escapeHtml\");function generateContractHtml(text,metadata){let processedText=text.replace(/\\.\\s*;\\s*(\\d)/g,\"$1\").replace(/([a-zA-Z0-9])\\s*\\.\\s*;\\s*/g,\"$1.\").replace(/\\.\\s*;\\s*/g,\".\").replace(/\\n{3,}/g,\"\\n\\n\").replace(/\\n\\n\\n/g,\"\\n\\n\").replace(/\\bRs\\.\\s*(\\d[\\d,]*)/g,\"\\u20B9$1\").replace(/\\bRs\\s+(\\d[\\d,]*)/g,\"\\u20B9$1\").replace(/ยน/g,\"\\u20B9\");const structuredHtml=convertTextToStructuredHtml(processedText);const html=`<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Contract - ${metadata?.brandName||\"Creator-Brand\"} Collaboration Agreement</title>\n  <style>\n    /* Professional Legal Document Styling */\n    * {\n      box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n    }\n    \n    /* Screen view: Dark background with white paper container */\n    body {\n      font-family: 'Times New Roman', 'Times', serif;\n      background: #2d2d2d;\n      padding: 40px 20px;\n      min-height: 100vh;\n      line-height: 0;\n    }\n    \n    /* White paper container - centered, max 800px width */\n    /* Legal typography - Times New Roman, 11pt, left-aligned */\n    .contract-container {\n      max-width: 800px;\n      margin: 0 auto;\n      background: #ffffff;\n      padding: 60px 80px;\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n      line-height: 1.8;\n      font-size: 11pt;\n      color: #1a1a1a;\n      text-align: left;\n    }\n    \n    /* Document title - centered, bold, large */\n    h1 {\n      font-size: 18pt;\n      font-weight: bold;\n      text-align: center;\n      margin-bottom: 40px;\n      margin-top: 0;\n      color: #000000;\n      letter-spacing: 0.5px;\n      page-break-after: avoid;\n    }\n    \n    /* Section headings - bold, clear hierarchy */\n    h2 {\n      font-size: 14pt;\n      font-weight: bold;\n      margin-top: 36px;\n      margin-bottom: 18px;\n      color: #000000;\n      page-break-after: avoid;\n      page-break-inside: avoid;\n    }\n    \n    /* Subsection headings */\n    h3 {\n      font-size: 12pt;\n      font-weight: bold;\n      margin-top: 28px;\n      margin-bottom: 14px;\n      color: #000000;\n      page-break-after: avoid;\n    }\n    \n    /* Paragraphs - left-aligned, proper spacing */\n    p {\n      margin: 14px 0;\n      text-align: left;\n      line-height: 1.8;\n      orphans: 3;\n      widows: 3;\n    }\n    \n    /* Lists - proper indentation and spacing */\n    ul, ol {\n      margin: 18px 0;\n      padding-left: 36px;\n    }\n    \n    li {\n      margin: 10px 0;\n      line-height: 1.8;\n      text-align: left;\n    }\n    \n    /* Section spacing */\n    .section {\n      margin-bottom: 36px;\n      page-break-inside: avoid;\n    }\n    \n    /* Footer - centered, smaller font */\n    .footer {\n      margin-top: 60px;\n      padding-top: 32px;\n      border-top: 1px solid #d1d5db;\n      text-align: center;\n      font-size: 10pt;\n      color: #4b5563;\n      page-break-inside: avoid;\n    }\n    \n    .footer p {\n      text-align: center;\n      margin: 10px 0;\n      line-height: 1.6;\n    }\n    \n    .footer p:first-child {\n      font-weight: 500;\n      margin-bottom: 12px;\n    }\n    \n    /* Print actions - fixed position, hidden in print */\n    .print-actions {\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      z-index: 1000;\n      background: #ffffff;\n      padding: 12px 16px;\n      border-radius: 8px;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    }\n    \n    .print-actions button {\n      background: #2563eb;\n      color: white;\n      border: none;\n      padding: 10px 20px;\n      border-radius: 6px;\n      cursor: pointer;\n      font-size: 14px;\n      font-weight: 500;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      transition: background 0.2s;\n    }\n    \n    .print-actions button:hover {\n      background: #1d4ed8;\n    }\n    \n    /* Print styles - remove background, show white paper */\n    @media print {\n      @page {\n        margin: 20mm 15mm;\n        size: A4;\n      }\n      \n      body {\n        background: #ffffff;\n        padding: 0;\n      }\n      \n      .contract-container {\n        max-width: 100%;\n        padding: 0;\n        box-shadow: none;\n        margin: 0;\n      }\n      \n      .print-actions {\n        display: none;\n      }\n      \n      /* Ensure proper page breaks */\n      h1, h2, h3 {\n        page-break-after: avoid;\n      }\n      \n      p, li {\n        page-break-inside: avoid;\n      }\n    }\n    \n    /* Mobile responsiveness */\n    @media (max-width: 900px) {\n      body {\n        padding: 20px 10px;\n      }\n      \n      .contract-container {\n        padding: 40px 30px;\n      }\n      \n      .print-actions {\n        position: relative;\n        top: auto;\n        right: auto;\n        margin-bottom: 20px;\n        text-align: center;\n      }\n    }\n  </style>\n</head>\n<body>\n  <div class=\"print-actions no-print\">\n    <button onclick=\"window.print()\">Print / Save as PDF</button>\n  </div>\n  \n  <div class=\"contract-container\">\n    ${structuredHtml}\n    \n    <div class=\"footer\">\n      <p><strong>Disclaimer:</strong> This agreement was generated using the CreatorArmour Contract Scanner based on information provided by the Parties. CreatorArmour is not a party to this agreement and does not provide legal representation.</p>\n      <p>The Parties are advised to independently review this agreement before execution.</p>\n    </div>\n  </div>\n</body>\n</html>`;return html}__name(generateContractHtml,\"generateContractHtml\");async function generateSafeContractPdf(text,reportId){if(!text||text.length<500){throw new Error(\"Contract text is too short or empty. Cannot generate PDF.\")}if(!text.includes(\"\\n\")){throw new Error(\"Contract text appears malformed (no line breaks). Cannot generate PDF.\")}const requiredSections=[\"CREATOR\\u2013BRAND COLLABORATION AGREEMENT\",\"Scope of Work\",\"Compensation & Payment Terms\"];const missingSections=requiredSections.filter(section=>!text.includes(section));if(missingSections.length>0){throw new Error(`Contract text is missing required sections: ${missingSections.join(\", \")}`)}let processedText=text.replace(/\\.\\s*;\\s*(\\d)/g,\"$1\").replace(/([a-zA-Z0-9])\\s*\\.\\s*;\\s*/g,\"$1.\").replace(/\\.\\s*;\\s*/g,\".\").replace(/\\n{3,}/g,\"\\n\\n\").replace(/\\n\\n\\n/g,\"\\n\\n\").replace(/\\bRs\\.\\s*(\\d[\\d,]*)/g,\"\\u20B9$1\").replace(/\\bRs\\s+(\\d[\\d,]*)/g,\"\\u20B9$1\").replace(/ยน/g,\"\\u20B9\");const structuredHtml=convertTextToStructuredHtml(processedText);try{let browser;if(process.env.VERCEL){const chromium=(await import(\"@sparticuz/chromium\").then(s=>{const e=\"default\";return s[e]&&typeof s[e]==\"object\"&&\"__esModule\"in s[e]?s[e]:s})).default;const puppeteerCore=(await import(\"puppeteer-core\").then(s=>{const e=\"default\";return s[e]&&typeof s[e]==\"object\"&&\"__esModule\"in s[e]?s[e]:s})).default;browser=await puppeteerCore.launch({args:chromium.args,defaultViewport:chromium.defaultViewport,executablePath:await chromium.executablePath(),headless:chromium.headless})}else{const puppeteerCore=(await import(\"puppeteer-core\").then(s=>{const e=\"default\";return s[e]&&typeof s[e]==\"object\"&&\"__esModule\"in s[e]?s[e]:s})).default;const executablePath=process.env.PUPPETEER_EXECUTABLE_PATH;if(!executablePath){throw new Error(\"PUPPETEER_EXECUTABLE_PATH is required for local contract PDF generation when using puppeteer-core.\")}const launchOptions={executablePath,headless:\"new\",args:[\"--no-sandbox\",\"--disable-setuid-sandbox\",\"--disable-dev-shm-usage\",\"--disable-gpu\",\"--disable-extensions\",\"--disable-background-timer-throttling\",\"--disable-backgrounding-occluded-windows\",\"--disable-renderer-backgrounding\",\"--disable-features=TranslateUI\",\"--disable-ipc-flooding-protection\",\"--disable-software-rasterizer\",\"--disable-web-security\",\"--disable-features=VizDisplayCompositor\",\"--disable-crash-reporter\",\"--disable-breakpad\"],timeout:3e4};browser=await puppeteerCore.launch(launchOptions)}try{const html=`\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n  <style>\n    body {\n      font-family: 'Times New Roman', serif;\n      line-height: 1.7;\n      padding: 40px;\n      color: #333;\n      font-size: 11pt;\n    }\n    h1 {\n      text-align: center;\n      margin-bottom: 30px;\n      color: #667eea;\n      font-size: 18pt;\n    }\n    h2 {\n      font-size: 14pt;\n      font-weight: bold;\n      margin-top: 24px;\n      margin-bottom: 12px;\n      page-break-after: avoid;\n    }\n    h3 {\n      font-size: 12pt;\n      font-weight: bold;\n      margin-top: 18px;\n      margin-bottom: 8px;\n    }\n    p {\n      margin: 12px 0;\n      text-align: justify;\n    }\n    ul, ol {\n      margin: 12px 0;\n      padding-left: 24px;\n    }\n    li {\n      margin: 6px 0;\n      line-height: 1.7;\n    }\n    .header {\n      text-align: center;\n      margin-bottom: 40px;\n      padding-bottom: 20px;\n      border-bottom: 2px solid #e5e7eb;\n    }\n    .section {\n      margin-bottom: 24px;\n      page-break-inside: avoid;\n    }\n    .footer {\n      margin-top: 40px;\n      padding-top: 20px;\n      border-top: 1px solid #e5e7eb;\n      text-align: center;\n      font-size: 10pt;\n      color: #6b7280;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"header\">\n    <h1>Safe Contract Version</h1>\n    <p>Report ID: ${reportId}</p>\n    <p>Generated: ${new Date().toLocaleString()}</p>\n  </div>\n  ${structuredHtml}\n  <div class=\"footer\">\n    <p>This agreement was generated using the CreatorArmour Contract Scanner based on information provided by the Parties. CreatorArmour is not a party to this agreement and does not provide legal representation.</p>\n    <p style=\"margin-top: 8px; font-weight: 500;\">The Parties are advised to independently review this agreement before execution.</p>\n  </div>\n</body>\n</html>\n      `;const page=await browser.newPage();await page.setContent(html,{waitUntil:\"networkidle0\"});const pdf=await page.pdf({format:\"A4\",printBackground:true,margin:{top:\"20mm\",right:\"15mm\",bottom:\"20mm\",left:\"15mm\"}});await browser.close();return Buffer.from(pdf)}catch(error){await browser.close().catch(()=>{});throw error}}catch(puppeteerError){console.error(\"[SafeContractGenerator] Puppeteer failed:\",puppeteerError.message);if(puppeteerError.message?.includes(\"Could not find Chrome\")){throw new Error(\"Contract PDF generation failed. Chrome/Puppeteer is required.\\n\\nTo fix this, run: npx puppeteer browsers install chrome\\n\\nPDFKit fallback is disabled for legal contracts to ensure proper formatting.\")}throw new Error(`Contract PDF generation failed. Puppeteer is required for legal documents.\n\nError: ${puppeteerError.message}\n\nPDFKit fallback is intentionally disabled to prevent formatting corruption.`)}}__name(generateSafeContractPdf,\"generateSafeContractPdf\");function escapeRegex(str){return str.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}__name(escapeRegex,\"escapeRegex\");export{generateContractHtml,generateSafeContract,generateSafeContractPdf};\n","warnings":[],"map":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["/Users/pratyushraj/Documents/noticebazaar/server/src/services/safeContractGenerator.ts"],"sourcesContent":[null]}}