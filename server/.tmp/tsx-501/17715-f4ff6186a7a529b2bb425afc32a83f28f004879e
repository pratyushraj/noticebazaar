{"code":"import{Router}from\"express\";import{syncSingleCreatorInstagram}from\"../jobs/instagramSync.js\";const router=Router();router.post(\"/instagram-sync\",async(req,res)=>{try{const creatorId=req.user?.id;if(!creatorId){return res.status(401).json({success:false,error:\"Unauthorized\"})}const instagramUsername=typeof req.body?.instagram_username===\"string\"?req.body.instagram_username:null;const result=await syncSingleCreatorInstagram(creatorId,instagramUsername);if(!result.success){return res.status(200).json({success:false,synced:false,reason:result.reason})}return res.json({success:true,synced:true,profile_photo:result.profile_photo,followers:result.followers})}catch(error){console.error(\"[Profile] instagram-sync error:\",error);return res.status(500).json({success:false,error:\"Failed to sync Instagram profile\"})}});var profile_default=router;export{profile_default as default};\n","warnings":[],"map":{"version":3,"mappings":"AAAA,OAAS,WAAwB,UAEjC,OAAS,+BAAkC,2BAE3C,MAAM,OAAS,OAAO,EAItB,OAAO,KAAK,kBAAmB,MAAO,IAA2B,MAAkB,CACjF,GAAI,CACF,MAAM,UAAY,IAAI,MAAM,GAC5B,GAAI,CAAC,UAAW,CACd,OAAO,IAAI,OAAO,GAAG,EAAE,KAAK,CAAE,QAAS,MAAO,MAAO,cAAe,CAAC,CACvE,CAEA,MAAM,kBAAoB,OAAO,IAAI,MAAM,qBAAuB,SAC9D,IAAI,KAAK,mBACT,KAEJ,MAAM,OAAS,MAAM,2BAA2B,UAAW,iBAAiB,EAE5E,GAAI,CAAC,OAAO,QAAS,CACnB,OAAO,IAAI,OAAO,GAAG,EAAE,KAAK,CAC1B,QAAS,MACT,OAAQ,MACR,OAAQ,OAAO,MACjB,CAAC,CACH,CAEA,OAAO,IAAI,KAAK,CACd,QAAS,KACT,OAAQ,KACR,cAAe,OAAO,cACtB,UAAW,OAAO,SACpB,CAAC,CACH,OAAS,MAAY,CACnB,QAAQ,MAAM,kCAAmC,KAAK,EACtD,OAAO,IAAI,OAAO,GAAG,EAAE,KAAK,CAAE,QAAS,MAAO,MAAO,kCAAmC,CAAC,CAC3F,CACF,CAAC,EAED,IAAO,gBAAQ","names":[],"ignoreList":[],"sources":["/Users/pratyushraj/Documents/noticebazaar/server/src/routes/profile.ts"],"sourcesContent":[null]}}