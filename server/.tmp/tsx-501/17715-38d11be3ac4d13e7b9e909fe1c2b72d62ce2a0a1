{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{Router}from\"express\";import{authMiddleware}from\"../middleware/auth.js\";import{getPlatformMetrics}from\"../services/internalMetricsService.js\";const router=Router();const adminOnly=__name((req,res,next)=>{if(req.user?.role!==\"admin\"){return res.status(403).json({success:false,error:\"Admin access required\"})}next()},\"adminOnly\");router.get(\"/metrics\",authMiddleware,adminOnly,async(req,res)=>{try{const metrics=await getPlatformMetrics();return res.json({success:true,data:metrics})}catch(error){console.error(\"[AdminMetrics] Error:\",error);return res.status(500).json({success:false,error:error.message||\"Internal server error\"})}});var admin_default=router;export{admin_default as default};\n","warnings":[],"map":{"version":3,"mappings":"kHACA,OAAS,WAAwB,UACjC,OAA+B,mBAAsB,wBACrD,OAAS,uBAA0B,wCAEnC,MAAM,OAAS,OAAO,EAGtB,MAAM,UAAY,QAAC,IAA2B,IAAe,OAAc,CACzE,GAAI,IAAI,MAAM,OAAS,QAAS,CAC9B,OAAO,IAAI,OAAO,GAAG,EAAE,KAAK,CAAE,QAAS,MAAO,MAAO,uBAAwB,CAAC,CAChF,CACA,KAAK,CACP,EALkB,aAWlB,OAAO,IAAI,WAAY,eAAgB,UAAW,MAAO,IAA2B,MAAkB,CACpG,GAAI,CACF,MAAM,QAAU,MAAM,mBAAmB,EACzC,OAAO,IAAI,KAAK,CACd,QAAS,KACT,KAAM,OACR,CAAC,CACH,OAAS,MAAY,CACnB,QAAQ,MAAM,wBAAyB,KAAK,EAC5C,OAAO,IAAI,OAAO,GAAG,EAAE,KAAK,CAC1B,QAAS,MACT,MAAO,MAAM,SAAW,uBAC1B,CAAC,CACH,CACF,CAAC,EAED,IAAO,cAAQ","names":[],"ignoreList":[],"sources":["/Users/pratyushraj/Documents/noticebazaar/server/src/routes/admin.ts"],"sourcesContent":[null]}}